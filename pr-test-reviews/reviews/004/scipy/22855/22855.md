## [PR 22855](https://github.com/scipy/scipy/pull/22855)

## PR Summary

This pull request (PR #22855) enhances the error messages in the 'scipy.spatial.pdist' function by making dimensionality errors more descriptive. It includes the actual dimensionality value that caused the error, aiding in debugging. This change contributes to better user experience and is part of routine maintenance for the upcoming 1.16.0 milestone.

## Uncovered Lines

```python
--------------------------------------------------------------------------------
# scipy/spatial/distance.py
--------------------------------------------------------------------------------
def _copy_array_if_base_present(a):
...
def _correlation_cdist_wrap(XA, XB, dm, **kwargs):
...
def _correlation_pdist_wrap(X, dm, **kwargs):
...
def _convert_to_type(X, out_type):
...
def _nbool_correspond_all(u, v, w=None):
...
def _nbool_correspond_ft_tf(u, v, w=None):
...
def _validate_cdist_input(XA, XB, mA, mB, n, metric_info, **kwargs):
    # get supported types
...
def _validate_weight_with_size(X, m, n, **kwargs):
...
def _validate_hamming_kwargs(X, m, n, **kwargs):
...
def _validate_mahalanobis_kwargs(X, m, n, **kwargs):
...
def _validate_minkowski_kwargs(X, m, n, **kwargs):
...
def _validate_pdist_input(X, m, n, metric_info, **kwargs):
    # get supported types
...
def _validate_seuclidean_kwargs(X, m, n, **kwargs):
...
def _validate_vector(u, dtype=None):
    # XXX Is order='c' really necessary?
...
def _validate_weights(w, dtype=np.float64):
...
def directed_hausdorff(u, v, rng=0):
...
def minkowski(u, v, p=2, w=None):
...
def euclidean(u, v, w=None):
...
def sqeuclidean(u, v, w=None):
...
def correlation(u, v, w=None, centered=True):
...
def cosine(u, v, w=None):
...
def hamming(u, v, w=None):
...
def jaccard(u, v, w=None):
...
def kulczynski1(u, v, *, w=None):
...
def seuclidean(u, v, V):
...
def cityblock(u, v, w=None):
...
def mahalanobis(u, v, VI):
...
def chebyshev(u, v, w=None):
...
def braycurtis(u, v, w=None):
...
def canberra(u, v, w=None):
...
def jensenshannon(p, q, base=None, *, axis=0, keepdims=False):
...
def yule(u, v, w=None):
...
def dice(u, v, w=None):
...
def rogerstanimoto(u, v, w=None):
...
def russellrao(u, v, w=None):
...
def sokalmichener(u, v, w=None):
...
def sokalsneath(u, v, w=None):
...
class CDistMetricWrapper:
...
    def __call__(self, XA, XB, *, out=None, **kwargs):
...
class PDistMetricWrapper:
...
    def __call__(self, X, *, out=None, **kwargs):
...
class MetricInfo:
    # Name of python distance function
...
def pdist(X, metric='euclidean', *, out=None, **kwargs):
...

    """
    # You can also call this as:
    #     Y = pdist(X, 'test_abc')
    # where 'abc' is the metric being tested.  This computes the distance
    # between all pairs of vectors in X using the distance metric 'abc' but
    # with a more succinct, verifiable, but less efficient implementation.

    X = _asarray(X)
    if X.ndim != 2:
        raise ValueError(f'A 2-dimensional array must be passed. (Shape was {X.shape}).') #‚ùóUNCOVERED: NEED TEST

    n = X.shape[0]
    return xpx.lazy_apply(_np_pdist, X, out,
                          # lazy_apply doesn't support Array kwargs
                          kwargs.pop('w', None),
                          kwargs.pop('V', None),
                          kwargs.pop('VI', None),
                          # See src/distance_pybind.cpp::pdist
                          shape=((n * (n - 1)) // 2, ), dtype=X.dtype, 
                          as_numpy=True, metric=metric, **kwargs)
...
def _np_pdist(X, out, w, V, VI, metric='euclidean', **kwargs):

...
def squareform(X, force="no", checks=True):
...
def is_valid_dm(D, tol=0.0, throw=False, name="D", warning=False):
...
def is_valid_y(y, warning=False, throw=False, name=None):
...
def num_obs_dm(d):
...
def num_obs_y(Y):
...
def _prepare_out_argument(out, dtype, expected_shape):
...
def _pdist_callable(X, *, out, metric, **kwargs):
...
def _cdist_callable(XA, XB, *, out, metric, **kwargs):
...
def cdist(XA, XB, metric='euclidean', *, out=None, **kwargs):

--------------------------------------------------------------------------------
```

## PR Diff

```diff
diff --git a/scipy/spatial/distance.py b/scipy/spatial/distance.py
index 8ed75b56d0d6..8f9cb116b6c0 100644
--- a/scipy/spatial/distance.py
+++ b/scipy/spatial/distance.py
@@ -2294,7 +2294,7 @@ def pdist(X, metric='euclidean', *, out=None, **kwargs):
 
     X = _asarray(X)
     if X.ndim != 2:
-        raise ValueError('A 2-dimensional array must be passed.')
+        raise ValueError(f'A 2-dimensional array must be passed. (Shape was {X.shape}).')
 
     n = X.shape[0]
     return xpx.lazy_apply(_np_pdist, X, out,

```
